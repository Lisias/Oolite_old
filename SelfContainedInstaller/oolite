#
# Oolite Run Script
# This is to run Oolite with the standalone Dependencies Pack.
#
# Usage: ./oolite
# Dylan Smith, 2005-09-03
#
if [ ! $OOLITE_ROOT ]
then
   echo "Oops, it looks like you didn't read README.TXT..."
   echo "Oolite-Linux isn't yet installed. README.TXT contains installation"
   echo "instructions. Might be an idea to read it. Consider this a gentle LART."

   exit
fi

# Oolite fails with a black message box with no text with the title
# 'Critical' if this doesn't exist.
mkdir -p $HOME/GNUstep/Library

# Set GNUstep environment.
export GNUSTEP_FLATTENED=yes
export GNUSTEP_HOST=i686-pc-linux-gnu
export GNUSTEP_HOST_CPU=ix86
export GNUSTEP_HOST_OS=linux-gnu
export GNUSTEP_HOST_VENDOR=pc
export GNUSTEP_ROOT=$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep
export GNUSTEP_PATHLIST=$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep:$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep/Local:$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep/System
export GNUSTEP_USER_ROOT=$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep
export GNUSTEP_SYSTEM_ROOT=$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep/System
export GNUSTEP_NETWORK_ROOT=$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep/Local
export GNUSTEP_LOCAL_ROOT=$OOLITE_ROOT/$TOPLEVEL/oolite-deps/GNUstep/Local
export LD_LIBRARY_PATH=$OOLITE_ROOT/$TOPLEVEL/oolite-deps/lib
cd $OOLITE_ROOT/$TOPLEVEL/oolite.app
./oolite

